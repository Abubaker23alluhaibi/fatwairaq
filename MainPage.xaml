<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:models="clr-namespace:MyMauiApp.Models"
             x:Class="MyMauiApp.MainPage"
             BackgroundColor="#F5F6F2"
             Title="Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©">

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="20">

            <Border StrokeShape="RoundRectangle 0,0,30,30"
                    StrokeThickness="0"
                    BackgroundColor="#0D4435"
                    Margin="-20,-20,-20,10"
                    Padding="30">
                <Border.Shadow>
                    <Shadow Brush="#0D4435" Offset="0,5" Radius="15" Opacity="0.4"/>
                </Border.Shadow>
                
                <VerticalStackLayout Spacing="5" HorizontalOptions="Center">
                    <Label Text="ÙØªØ§ÙˆÙ‰ Ø§Ù„Ø¹Ø±Ø§Ù‚" 
                           TextColor="#D4AF37" 
                           FontSize="30" 
                           FontAttributes="Bold" 
                           HorizontalOptions="Center"/>
                    <Label Text="Ø§Ù„Ù…Ø¬Ù…Ø¹ Ø§Ù„ÙÙ‚Ù‡ÙŠ Ø§Ù„Ø¹Ø±Ø§Ù‚ÙŠ Ù„ÙƒØ¨Ø§Ø± Ø§Ù„Ø¹Ù„Ù…Ø§Ø¡ Ù„Ù„Ø¯Ø¹ÙˆØ© ÙˆØ§Ù„Ø¥ÙØªØ§Ø¡" 
                           TextColor="White" 
                           FontSize="13" 
                           HorizontalOptions="Center"
                           HorizontalTextAlignment="Center"
                           Opacity="0.9"/>
                </VerticalStackLayout>
            </Border>

            <Border StrokeShape="RoundRectangle 15"
                    StrokeThickness="0"
                    BackgroundColor="White"
                    Padding="5"
                    Margin="0,0,0,10">
                <Border.Shadow>
                    <Shadow Brush="Black" Offset="0,2" Radius="10" Opacity="0.1"/>
                </Border.Shadow>
                
                <Grid ColumnDefinitions="*,Auto" ColumnSpacing="10" Padding="5">
                    <Entry x:Name="SearchEntry"
                           Placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† ÙØªÙˆÙ‰ Ø£Ùˆ Ù…Ø³Ø£Ù„Ø©..."
                           PlaceholderColor="#999"
                           TextColor="#333"
                           FontSize="15"
                           BackgroundColor="Transparent"
                           ClearButtonVisibility="WhileEditing"
                           Grid.Column="0"
                           VerticalOptions="Center"/>
                    
                    <Button Text="Ø¨Ø­Ø«"
                            BackgroundColor="#D4AF37"
                            TextColor="#0D4435"
                            FontAttributes="Bold"
                            CornerRadius="10"
                            HeightRequest="45"
                            WidthRequest="80"
                            Clicked="OnSearchClicked"
                            Grid.Column="1"/>
                </Grid>
            </Border>

            <HorizontalStackLayout Spacing="10" VerticalOptions="Center">
                <BoxView WidthRequest="4" HeightRequest="20" Color="#D4AF37" CornerRadius="2"/>
                <Label Text="Ø§Ù„Ø£Ø¨ÙˆØ§Ø¨ Ø§Ù„ÙÙ‚Ù‡ÙŠØ©" 
                       FontSize="20" 
                       FontAttributes="Bold" 
                       TextColor="#0D4435"/>
            </HorizontalStackLayout>

            <CollectionView x:Name="CategoriesCollectionView"
                            SelectionMode="Single"
                            SelectionChanged="OnCategorySelected"
                            Opacity="0">
                <CollectionView.ItemsLayout>
                    <GridItemsLayout Orientation="Vertical" Span="3" 
                                     VerticalItemSpacing="15" 
                                     HorizontalItemSpacing="15"/>
                </CollectionView.ItemsLayout>
                
                <CollectionView.ItemTemplate>
                    <DataTemplate x:DataType="models:Category">
                        <Border StrokeShape="RoundRectangle 18"
                                BackgroundColor="White"
                                Padding="15"
                                StrokeThickness="1"
                                Stroke="#F0F0F0">
                            <Border.Shadow>
                                <Shadow Brush="Black" Offset="0,2" Radius="5" Opacity="0.05"/>
                            </Border.Shadow>
                            
                            <Grid RowDefinitions="Auto,Auto" RowSpacing="10">
                                <Border Grid.Row="0" 
                                        HorizontalOptions="Center"
                                        HeightRequest="50" 
                                        WidthRequest="50" 
                                        StrokeShape="RoundRectangle 25"
                                        BackgroundColor="#F9F5E9">
                                    <Label Text="ðŸ“–" HorizontalOptions="Center" VerticalOptions="Center" FontSize="20"/>
                                </Border>
                                
                                <Label Grid.Row="1"
                                       Text="{Binding Name}" 
                                       FontSize="15" 
                                       FontAttributes="Bold"
                                       TextColor="#0D4435"
                                       HorizontalTextAlignment="Center"
                                       VerticalOptions="Center"/>
                            </Grid>
                        </Border>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>

            <Label Text="Ø£Ùˆ Ø§Ø®ØªØ± Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© â˜°"
                   FontSize="13"
                   TextColor="#757575"
                   HorizontalOptions="Center"
                   Margin="0,10,0,20"/>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>